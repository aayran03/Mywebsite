{% extends 'shop/basic.html' %}

{% block title %} {{ product.product_name }} - My Awesome Cart {% endblock %}

{% block css %}
<style>
    /* Add any custom CSS specific to your prodView page */
</style>
{% endblock %}

{% block body %}
<div class="container my-4">
    <div class="row">
        <div class="col-md-4">
            <div class="row">
                <img src="/media/{{ product.image }}" width="233px" height="385px">
            </div>
            <div class="row">
                <span id="divpvr{{ product.id }}" class="divpr">
                    <button id="pvr{{ product.id }}" class="btn btn-primary cart">Add To Cart</button>
                </span>
                <a href="#" class="btn btn-primary mx-3" id="buyNowButton">Buy Now</a>
            </div>
        </div>

        <div class="col-md-8">
            <h5>{{ product.product_name }}</h5>
            <p><b>Rs.{{ product.price }} </b></p>
            <p>{{ product.desc }}</p>
        </div>
    </div>
</div>
{% endblock %}


<script>
    // Ensure jQuery is available
    $(document).ready(function() {
        // Initialize cart from localStorage or create a new empty object
        var cart = JSON.parse(localStorage.getItem('cart')) || {};

     

        // Add Popover to cart
        $('#popcart').popover({
            html: true,
            content: function() {
                return $('#popcart').attr('data-content');
            }
        });

        // Show popover when clicking on cart button
        $('#popcart').on('click', function() {
            $(this).popover('toggle');
        });

        // Initialize cart count in navbar on page load
        updateCart(cart);
    });
</script>





